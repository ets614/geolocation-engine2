name: Discord Notifications

on:
  issues:
    types: [opened, labeled, closed]
  pull_request:
    types: [opened, ready_for_review, review_requested, synchronize]

jobs:
  notify-discord:
    name: Send Discord Notification
    runs-on: ubuntu-latest
    steps:
      - name: Discord notification - Issue opened
        if: github.event_name == 'issues' && github.event.action == 'opened'
        uses: tsickert/discord-webhook@v1
        with:
          webhook-url: ${{ secrets.DISCORD_WEBHOOK_URL }}
          embed-title: "üìã New Issue Created"
          embed-description: "${{ github.event.issue.title }}"
          embed-url: "${{ github.event.issue.html_url }}"
          embed-color: 3447003

      - name: Discord notification - Issue labeled
        if: github.event_name == 'issues' && github.event.action == 'labeled'
        uses: tsickert/discord-webhook@v1
        with:
          webhook-url: ${{ secrets.DISCORD_WEBHOOK_URL }}
          embed-title: "üè∑Ô∏è Issue Labeled"
          embed-description: "${{ github.event.issue.title }}"
          embed-url: "${{ github.event.issue.html_url }}"
          embed-color: 15158332

      - name: Discord notification - Issue closed
        if: github.event_name == 'issues' && github.event.action == 'closed'
        uses: tsickert/discord-webhook@v1
        with:
          webhook-url: ${{ secrets.DISCORD_WEBHOOK_URL }}
          embed-title: "‚úÖ Issue Closed"
          embed-description: "${{ github.event.issue.title }}"
          embed-url: "${{ github.event.issue.html_url }}"
          embed-color: 3066993

      - name: Discord notification - PR opened
        if: github.event_name == 'pull_request' && github.event.action == 'opened'
        uses: tsickert/discord-webhook@v1
        with:
          webhook-url: ${{ secrets.DISCORD_WEBHOOK_URL }}
          embed-title: "üöÄ Pull Request Opened"
          embed-description: "${{ github.event.pull_request.title }}"
          embed-url: "${{ github.event.pull_request.html_url }}"
          embed-color: 9437184

      - name: Discord notification - PR ready for review
        if: github.event_name == 'pull_request' && github.event.action == 'ready_for_review'
        uses: tsickert/discord-webhook@v1
        with:
          webhook-url: ${{ secrets.DISCORD_WEBHOOK_URL }}
          embed-title: "üëÄ PR Ready for Review"
          embed-description: "${{ github.event.pull_request.title }}"
          embed-url: "${{ github.event.pull_request.html_url }}"
          embed-color: 16776960
